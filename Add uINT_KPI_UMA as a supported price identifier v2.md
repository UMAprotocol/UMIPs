## Headers

| **UMIP #** *Leave blank - an UMIP no will be assigned at proposal stage*
              
| ------------------- | ------------------------------------------------------------- |
| **UMIP Title**          | **Add** *uINT_KPI_UMA* **as a supported price identifier**|
| **Authors**             | *Brittany Madruga (brittany.madruga@gmail.com)*                                                      |
| **Status**              | **Draft**                                                         |
| **Created**             | *06/08/2021*                                             |
| **Discourse Link**      | *Insert link to discourse topic  **after**  it has been moved into draft UMIPs_*            |

# Summary 

**The DVM should support requests for** UMA protocol integrations.

Key Performance Indicator(KPI) options are synthetic tokens that redeem to protocol tokens with the redemption value determined by performance against that indicator. One example of a KPI metric is Integrations. Integrations serve to measure the activity of the protocol rather than assigning all of the value to the dollar amount generated by the protocol, as previously seen in UMA’s TVL KPI option. 

This UMIP enables the DVM to support price requests based on the number of qualifying integrations that occured during a specified timeline.

A synthetic option is minted against a base collateral, in this case UMA, which expires at 23:59:59 (UTC) September 30th 2021. 


# Motivation

The primary motivation for the development of KPI options is to allow protocols to incentivize Defi users to assist them to reach the protocol's identified targets by leveraging their community resources by sharing their value with their community members.

Using integrations as a key metric directly benefits the UMA protocol because it encourages the community to build relationships in the broader DeFi community with the intention of providing tools that may be useful to teams who are currently unaware of what UMA has to offer. This creates a win-win across the board because it allows us to showcase our products and our products can then help other protocols to complete their goals. 

By establishing the terms of a qualifying integration, it allows for the community to reach out in a way that aligns with the current priorities of the UMA protocol- attracting attention to our strongest products and encouraging teams to test out a wide variety of use cases.


**It is anticipated that this Price Identifier will be used to create KPI Options, however it is acknowledged that it may be used for a variety of purposes.**

# Data Specifications

The UMA team will maintain a "green light" list of qualified integrations. Each integration will be added one at a time, after it has been discussed in the #voting channel in the UMA discord. The following criteria will be considered during the evaluation of each integration:

Any contract that falls into one of the categories listed below that has been funded with at least $10,000 of value. 
* Call or Put options
* KPI options
* Range Bonds
* Integration with Optimistic Oracle
* Long/Short Pair (LSP) Contract

Contracts included are not limited to Ethereum mainnet- contracts on other chains where DVM message bridging is available (e.g. Polygon) will be included in consideration.

Note: Contracts deployed by UMA, for use by UMA do not count. 

The applied timeframe for this UMIP will be between 1622505600 and 1633046399, meaning that all qualifying integrations launched during this timeframe should be counted. 

**Revolution Clause** 

The "green light" list should not be considered the *only* source of truth. The DVM has the ability and responsibility to challenge the validity of any integration that has been included or excluded from the list if the broader consensus of UMA tokenholders is that it is within the spirit of this UMIP to do so. Any and all questions surrounding the validity of an integration can be brought up in further detail in the voting channel on the UMA discord.

This UMIP is meant to identify integrations with UMA that are good faith experiments and product launches, as a way to gauge DeFi community engagement with the protocol. This should not be considered an all-inclusive list, but here are some components to take into account when determining whether or not something is a good faith integration:

**Planning:** Has there been contact with someone in the UMA community?
What kind of planning stages occurred prior to launch? Was there a proposal from the super uman community? Was there an internal vote within a community to move forward with a launch? Were there brainstorming sessions to come up with possible use cases for various products? 

**Intention:** WHAT is the goal? Has it been made clear that there is a desire to use UMA infrastructure to launch a product that will serve to improve a protocol or for the purpose of experimental hedging/speculation/betting?

**Rationale:** WHY was it executed the way it was? (Note: struggling to find more words to say here, although I do believe this is the biggest factor in determining the good faith nature of a launch.)

**Lifespan:** Did this launch last for a meaningful amount of time? If it was intended to last a month, did it last that long? If it was “shut down” sooner than expected, why?

Below are some examples of when discussion around good faith may be necessary:

* Someone creates 10 call options on polygon that are nearly identical, but with different strike prices. It is likely that this case would be treated as only 1 integration, but discussion around rationale should be considered. 

* Someone creates and funds a call option for one month. When it expires, they then create another one for the next month. This would count as two integrations, provided that the intention and lifespan make sense for this product. 

* An unidentified address funds a contract that was launched by UMA as a proof-of-concept for another team. The contract was funded in such a way to meet the minimium threshold, but there was no coordination or acceptance by the other team, and the product does not appear to be used by the intended project. This would not count as an integration, because even though the value threshold was met, there was no demonstration of planning, and intention is not clear.


# Technical Specifications

- **Price identifier name:**  *uINT_KPI_UMA*
- **Base: Number of qualified integrations
- **There is no quote currency in this option, as design feature. The collateral redemption is tied to the** *number of qualified integrations* **by design**
 - **Intended Collateral Currency** *UMA*.
- **Rounding:** *Round to 4 decimal places* 
 - If the value returned is greater than 1.2500, round down to 1.2500 to provide a ceiling price.
 

# Rationale

Specifics of this design were chosen to establish a minimum payout that will definitely occur, with the maximum payout being within reach. One idea behind this is that if we make sure we can reach our KPI, then we can turn around and launch another before this one expires to keep that positive momentum going strong. 

* Variable scaling is set up to reward implementations that occur before launch (between June 1 and launch date), but to provide the highest incentive to go out and get new integrations at the start of launch date.

* The decision to stick to the listed product types was made in order to bring focus to the products we want to push the most at this time.

* Setting it up to allow for all qualified launches to be counted throughout the period rather than just at the time of expiry helps to ensure that we are not missing out on any integrations that might expire before the KPI option does. 

* Choosing a starting timestamp of June 1 helps to reward the community for the integrations they have already started on and help keep momentum going while the current KPI expires. 

* In order to reward the extra work that goes into larger integrations, any qualifying integration valued at or above $5 million will qualify for a bonus point that will increase the value of uINT by 0.0833 UMA. 


# Implementation

Step 1: Refer to "green light" list for finalized information on all qualified integrations. Assign 1 point for each integration.

Step 2: Tally up the total number of points, and use the following criteria to determine the $UMA value of each uINT token (uINT/UMA). Note: any integrations with a (____) indicator qualify for a BONUS. See details below.

Starting at 0, the value of each uINT increases according to the following scale:
* 0.0167 for the first 10 points.
* 0.0500 for the next 15 points.
* A BONUS value of 0.0833 should be added for each integration on the "green light" list with a (____) indicator. Treat this as a separate component of your calculation. See example below. 

Step 5: return the appropriate value (in UMA) per uINT that corresponds to the total number of points tallied. If value returned is greater than 1.2500, return 1.2500.

Examples: 
If a voter determines a tally of 12 points and no BONUS points, they would calculate that 1 uINT = (10 x 0.0167) + (2 x 0.0500) = 0.2667 UMA. 

If a voter determines a tally of 22 points and 2 of them include BONUS points, they would calculate that 1 uINT = (10 x 0.0167) + (12 x 0.0500) + (2 x 0.0833) = 0.9333 UMA.

If a voter determines a tally of 20 points and 7 of them include BONUS points, they would calculate that 1 uINT = (10 x 0.0167) + (10 x 0.0500) + (7 x 0.0833) = ??? (come back to this after discussion)

# Security Considerations

How could metric manipulation occur?

* By establishing a minimum value for qualifying integrations, it ensures that the cost of manipulation is higher than the possible reward for doing so. Additionally, the DVM voters have the ability to determine if it appears that someone is acting maliciously and can disqualify any integrations that majority believe should not be included.

How could this price ID be exploited?

* I’m not sure it can be, since it is based on the definition of the metric. Thoughts?

Do the instructions for determining the price provide people with enough certainty?

* Yes.
	
Are there any current or future possible concerns with the way the price identifier is defined?

* It could be determined that the scaling is not appropriate in the event of overwhelming failure of the option. This would happen if we achieved too few integrations or if we had an unexpected number of integrations from one particular team. The latter can be remedied by the voting power of the DVM, as discussed above. 
* Additionally, there is the potential for ambiguities to present that have not been considered at the time of writing. In this case it will be up to the DVM to determine the resolution of those ambiguities. We anticipate hitting the ceiling, so it is possible that any ambiguities that arise will be non-significant. 
* It is possible that over the course of the KPI option, UMA could determine there are other products they would like to prioritize that are not defined in this UMIP. In that case, another KPI option can be launched to include that product.

Are there any concerns around if the price identifier implementation is deterministic?

* No?